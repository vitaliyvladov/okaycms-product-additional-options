# Модуль "Додаткові опції товарів" для OkayCMS

Модуль додає функціональність вибору додаткової опції для товарів на сайті. Користувач може вибрати одну з доступних опцій при додаванні товару в кошик. Обрана опція відображається в кошику, на сторінці замовлення, в адмін-панелі замовлення та в email-листах.

## Встановлення

### Варіант 1: Скачування з GitHub

1. Скачайте останню версію модуля з [релізів на GitHub](https://github.com/vitaliyvladov/okaycms-product-additional-options/releases).
2. Розпакуйте архів на сервері в каталог: `{OkayCMS_root}/Okay/Modules/Lavvod/`

### Варіант 2: Встановлення через Git

1. Виконайте команду в директорії `{OkayCMS_root}/Okay/Modules/Lavvod/`:
   ```bash
   git clone https://github.com/vitaliyvladov/okaycms-product-additional-options.git ProductAdditionalOptions
   ```

### Результат встановлення

Шлях до модуля має бути таким: `{OkayCMS_root}/Okay/Modules/Lavvod/ProductAdditionalOptions/`

Після встановлення перейдіть в адмін-панель → Модулі → знайдіть «Додаткові опції товарів» → натисніть «Встановити».

## Функціональність

### Адмін-панель

- **Управління значеннями опцій**: додавання, видалення, зміна порядку через drag-and-drop
- **Налаштування назви блоку опцій**: можливість встановити назву блоку опцій (за замовчуванням "Опції")
- **Вибір категорій**: можливість вибрати категорії, для товарів яких буде доступний вибір додаткових опцій

### Фронтенд

- **Відображення опцій на сторінці товару**: блок з випадаючим списком додаткових опцій
- **Автоматичний вибір**: за замовчуванням автоматично вибирається перше значення в списку
- **Відображення в кошику**: обрана опція відображається біля назви варіанту товару
- **Відображення в замовленнях**: обрана опція відображається в замовленнях (фронтенд та адмін-панель)
- **Email-листи**: обрана опція відображається в email-листах клієнту та адміністратору

## Структура модуля

```
Lavvod/ProductAdditionalOptions/
├── Init/
│   ├── Init.php              # Головний клас ініціалізації модуля
│   ├── module.json           # Мета-інформація про модуль
│   └── services.php          # Реєстрація сервісів
├── Backend/
│   ├── Controllers/
│   │   └── ProductAdditionalOptionsAdmin.php
│   ├── design/
│   │   └── html/
│   │       └── product_additional_options.tpl
│   └── lang/
│       ├── ua.php
│       ├── ru.php
│       └── en.php
├── Entities/
│   ├── ProductAdditionalOptionsValuesEntity.php
│   ├── PurchasesAdditionalOptionsEntity.php
│   └── ProductAdditionalOptionsCategoriesEntity.php
├── Extenders/
│   ├── CartExtender.php
│   ├── ProductExtender.php
│   ├── OrderExtender.php
│   └── EmailExtender.php
├── Helpers/
│   └── ProductAdditionalOptionsHelper.php
└── design/
    ├── html/
    │   └── product_additional_option_select.tpl
    ├── js/
    │   └── product_additional_options.js
    └── js.php
```

## База даних

Модуль створює три таблиці:

1. `__lavvod__product_additional_options_values` - значення опцій
2. `__lavvod__purchases_additional_options` - збережені опції для покупок
3. `__lavvod__product_additional_options_categories` - зв'язок категорій з модулем

## Використання

1. Перейдіть в адмін-панель → Додаткові опції товарів
2. Додайте значення опцій
3. (Опціонально) Встановіть назву блоку опцій
4. (Опціонально) Виберіть категорії, для товарів яких буде доступний вибір опцій
5. На сторінці товару з'явиться блок з випадаючим списком опцій

## Технічні деталі

- Модуль використовує сесії для зберігання обраних опцій до створення замовлення
- Після створення замовлення опції зберігаються в базі даних
- Модуль підтримує мультимовність для назв значень опцій
- Модуль автоматично інтегрується з існуючими шаблонами через модифікації в `module.json`

## Версія

1.0.0

## Автор

Lavvod

